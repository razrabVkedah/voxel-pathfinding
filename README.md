# Rusleo Voxel Pathfinding
![Pathfinding Demo](Documentation~/Media/Preview.gif)
---
![LOD Grid Example](Documentation~/Media/Demo_0.png)
![LOD Grid Example](Documentation~/Media/Demo_1.png)
![LOD Grid Example](Documentation~/Media/Demo_2.png)
![LOD Grid Example](Documentation~/Media/Demo_3.png)
![LOD Grid Example](Documentation~/Media/Demo_4.png)
---
–í–æ–∫—Å–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ –¥–ª—è 3D‚Äë—Å—Ü–µ–Ω –≤ Unity —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π **LOD**, –≥–∏–±—Ä–∏–¥–Ω–æ–π **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π/–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π** —Å–µ—Ç–∫–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º –≥—Ä–∞—Ñ–∞ –∏ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ–º —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π (Bezier/—Å–ø–ª–∞–π–Ω—ã). –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞–≥–ª—è–¥–Ω—ã–µ **Gizmos**‚Äë–≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –∏ –¥–µ–º–æ‚Äë—Å–∫—Ä–∏–ø—Ç—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è (–ø—á—ë–ª—ã).

## üß† –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –≤–æ–∫—Å–µ–ª—å–Ω–∞—è —Å–µ—Ç–∫–∞ (LOD)**: —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–∑–ª–æ–≤ –∏ —Å–æ—Å–µ–¥–µ–π; –¥–µ–ª–µ–Ω–∏–µ –∑–∞–Ω—è—Ç—ã—Ö –≤–æ–∫—Å–µ–ª–µ–π –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤—è–∑–µ–π –ø–æ 6 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º.  
- **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∏–∑ —Å–µ—Ç–∫–∏**: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤–æ–∫—Å–µ–ª–µ–π —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –≤ —É–∑–ª—ã –≥—Ä–∞—Ñ–∞ —Å –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ —Ä—ë–±—Ä–∞–º–∏; –ø–æ–∏—Å–∫ ¬´—Å–æ—Å–µ–¥–µ–π –ø–æ –∫–∞—Å–∞–Ω–∏—é¬ª –º–µ–∂–¥—É –≤–æ–∫—Å–µ–ª—è–º–∏ —Ä–∞–∑–Ω—ã—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π.  
- **–ü–æ–∏—Å–∫ –ø—É—Ç–∏ (A\*)**: –≤—ã–±–æ—Ä –±–ª–∏–∂–∞–π—à–∏—Ö —É–∑–ª–æ–≤/–≤–æ–∫—Å–µ–ª–µ–π –¥–ª—è —Å—Ç–∞—Ä—Ç–∞/—Ñ–∏–Ω–∏—à–∞, —ç–≤—Ä–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–≤–∞–¥—Ä–∞—Ç—É –ï–≤–∫–ª–∏–¥–∞, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏ –ø–æ —Ä–æ–¥–∏—Ç–µ–ª—è–º.  
- **–°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π**: ¬´warp¬ª‚Äë–º–∞—Ä—à—Ä—É—Ç –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö –≤–æ–∫—Å–µ–ª–µ–π/–ø–∞—Ä–∞–ª–ª–µ–ª–µ–ø–∏–ø–µ–¥–æ–≤; –ø—Ä–∏–º–µ—Ä—ã B‚Äë—Å–ø–ª–∞–π–Ω–∞ –∏ Catmull‚ÄëRom –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è.  
- **–î–µ–º–æ‚Äë–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ**: `BeeMover` —Å —à—É–º–æ–≤—ã–º ¬´—à–µ–≤–µ–ª–µ–Ω–∏–µ–º¬ª (Perlin), –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –¥–µ–ª—å—Ç—ã —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –ø–æ–≤–æ—Ä–æ—Ç–æ–º –ø–æ –≤–µ–∫—Ç–æ—Ä—É –¥–≤–∏–∂–µ–Ω–∏—è.  
- **Gizmos‚Äë–æ—Ç—Ä–∏—Å–æ–≤–∫–∞**: –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∫–∏ (–ø–æ LOD), —É–∑–ª–æ–≤/—Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—É—Ç–µ–π (–æ–±—ã—á–Ω—ã–π/–≤–∞—Ä–ø/—Å–ø–ª–∞–π–Ω).

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–º–æ–¥—É–ª–∏)
- **Core** ‚Äî –±–∞–∑–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ –ø—É—Ç–∏: `Node`, `Path`, `BSpline` –∏ –¥—Ä.  
- **StaticGrid** ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π LOD‚Äë—Å–µ—Ç–∫–∏ –∏ —Å–æ—Å–µ–¥–µ–π –≤–æ–∫—Å–µ–ª–µ–π.  
- **Graph** ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∫–∏ –≤ –≥—Ä–∞—Ñ –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É–∑–ª–æ–≤.  
- **Pathfinding** ‚Äî A\*, —É—Ç–∏–ª–∏—Ç—ã —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π (warp/merge), –±–∏–ª–¥–µ—Ä –ø—É—Ç–∏, –¥–µ–º–æ‚Äë–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è (–ø—á—ë–ª—ã, —Å–ø–ª–∞–π–Ω).  
- **GizmosDebug** ‚Äî –æ—Ç—Ä–∏—Å–æ–≤—â–∏–∫–∏ —Å–µ—Ç–∫–∏/–≥—Ä–∞—Ñ–∞/–ø—É—Ç–∏.  
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è –∫ –º–æ–¥—É–ª—è–º ‚Äî —Å–º. –¥–æ–∫—É–º–µ–Ω—Ç ¬´ProjectStructure¬ª (–≤ –ø—Ä–æ–µ–∫—Ç–µ).

## üì¶ –°–æ—Å—Ç–∞–≤ (–æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã)
- `Voxel`, `BaseGrid`, `GridBuilder` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ LOD‚Äë—Å–µ—Ç–∫–∏, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –∑–∞–Ω—è—Ç—ã—Ö –≤–æ–∫—Å–µ–ª–µ–π, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ—Å–µ–¥–µ–π (‚Äëx/+x/‚Äëy/+y/‚Äëz/+z).  
- `BaseGraph`, `GraphBuilder`, `GridToGraphConverter` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —É–∑–ª–æ–≤ –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –ª–∏—Å—Ç—å–µ–≤ –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–æ—Å–µ–¥–µ–π (–≤–∫–ª—é—á–∞—è –ø–æ–∏—Å–∫ ¬´—Å–º–µ–∂–Ω–æ–≥–æ¬ª –ø–æ —Ä–æ–¥–∏—Ç–µ–ª—é/–¥–µ—Ç—è–º).  
- `PathfindingUtility` ‚Äî A\* (open/closed, G/H/F, retrace), warp‚Äë–∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è–º –ª–∏–Ω–∏–∏ —Å –±–æ–∫—Å–æ–º, merge —Ç–æ—á–µ–∫ –ø–æ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏.  
- `PathBuilder` ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—É—Ç–∏ –ø–æ –±–ª–∏–∂–∞–π—à–∏–º —É–∑–ª–∞–º/–≤–æ–∫—Å–µ–ª—è–º —Å—Ç–∞—Ä—Ç–∞/—Ñ–∏–Ω–∏—à–∞; –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–∫ ¬´–æ–±—ã—á–Ω–æ–π¬ª –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∏ ¬´warped¬ª —Å–ø–∏—Å–∫–∞ —Ç–æ—á–µ–∫.  
- `BeeMover` ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ –≤–¥–æ–ª—å warped/Bezier‚Äë—Ç–æ—á–µ–∫ —Å —à—É–º–æ–º –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º `VelocityChange`.  
- `GraphDrawer`, `GridDrawer`, `PathDrawer` ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —É–∑–ª–æ–≤/—Ä—ë–±–µ—Ä/–≤–æ–∫—Å–µ–ª–µ–π –∏ —Ç–∏–ø–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (Default / Warped / Spline).

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ **Unity** (LTS 2022.x+).  
2. –ù–∞ —Å—Ü–µ–Ω–µ —Å–æ–∑–¥–∞–π—Ç–µ:
   - `GridBuilder` (—É–∫–∞–∂–∏—Ç–µ —Ä–∞–∑–º–µ—Ä—ã —Å–µ—Ç–∫–∏, —Ä–∞–∑–º–µ—Ä –≤–æ–∫—Å–µ–ª—è LOD0, `LayerMask`, –≥–ª—É–±–∏–Ω—É LOD).  
   - `GraphBuilder` (—Å—Å—ã–ª–∫—É –Ω–∞ `GridBuilder`).  
   - `PathBuilder` (—Å—Å—ã–ª–∫—É –Ω–∞ `GraphBuilder`, –æ–±—ä–µ–∫—Ç—ã **Bee** –∏ **Target**).  
   - (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `BeeMover` –Ω–∞ –æ–±—ä–µ–∫—Ç–µ –ø—á–µ–ª—ã, —É–∫–∞–∂–∏—Ç–µ `PathBuilder` –∏ —Ü–µ–ª–µ–≤–æ–π `Transform`.  
3. –í–∫–ª—é—á–∏—Ç–µ –æ—Ç—Ä–∏—Å–æ–≤–∫—É —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `GridDrawer`/`GraphDrawer`/`PathDrawer` (–≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—É—Ç–∏ –≤ `PathDrawer`).  
4. –ù–∞–∂–º–∏—Ç–µ **Play** –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–µ—Ç–∫–∏ ‚Üí –≥—Ä–∞—Ñ–∞ ‚Üí –ø—É—Ç–∏ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞.

## ‚ú® –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–µ—Ç–∫–∏ –∏ –≥—Ä–∞—Ñ–∞ –Ω–∞ —Å—Ü–µ–Ω–µ: –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é **Build Grid/Graph** –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ –±–∏–ª–¥–µ—Ä–∞.  
- –ü–æ–∏—Å–∫ –ø—É—Ç–∏ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ:
  ```csharp
  var path = pathBuilder.BuildPath(start.position, end.position);
  // path.PathNodes ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å; pathBuilder.GetWarpedPath() ‚Äî —Å–≥–ª–∞–∂–µ–Ω–Ω—ã–π ¬´warped¬ª.
  ```
- –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ:
  - `PathfindingUtility.WarpPath(path, out warpedPoints)` ‚Äî –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Å –±–æ–∫—Å–∞–º–∏ –≤–æ–∫—Å–µ–ª–µ–π, —Ç–æ—á–∫–∏ –Ω–∞ –≥—Ä–∞–Ω—è—Ö.  
  - `BSpline` / `SplineMover` ‚Äî –ø—Ä–∏–º–µ—Ä—ã –ø–ª–∞–≤–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∞ –ø–æ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º —Ç–æ—á–∫–∞–º.

## üõ£ Roadmap / TODO
- –ü–æ–∏—Å–∫ **—Ä–µ–∞–ª—å–Ω–æ –¥–æ—Å—Ç–∏–∂–∏–º–æ–π** –±–ª–∏–∂–∞–π—à–µ–π —Ç–æ—á–∫–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–∞: —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ `Voxel.IsCollided` (–Ω–µ —Ç–æ–ª—å–∫–æ –≥–µ–æ–º–µ—Ç—Ä–∏—é —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è).  
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç: –∏–∑–±–µ–≥–∞—Ç—å ¬´–ø—Ä–æ—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä¬ª –≤–æ–∫—Å–µ–ª–µ–π –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–ø–æ—Ä–Ω—ã—Ö —Ç–æ—á–µ–∫.  
- –£—Ç–æ—á–Ω–∏—Ç—å –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏–≤—ã–µ **Bezier/—Å–ø–ª–∞–π–Ω—ã** (–≤—ã–±–æ—Ä —Å—Ç–µ–ø–µ–Ω–µ–π, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —É–∑–ª–æ–≤—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—é –ø–æ –¥–ª–∏–Ω–µ –¥—É–≥–∏).

---

‚ú¶ –ê–≤—Ç–æ—Ä: [Rusleo](https://github.com/razrabVkedah)
